## 消息队列

消息队列，就是一个消息的链表，是一系列保存在内核中消息的列表。用户进程可以向消息队列添加消息，也可以向消息队列读取消息。

消息队列与管道通信相比，其优势是对每个消息指定特定的消息类型，接收的时候不需要按照队列次序，而是可以根据自定义条件接收特定类型的消息。

可以把消息看做一个记录，具有特定的格式以及特定的优先级。对消息队列有写权限的进程可以向消息队列中按照一定的规则添加新消息，对消息队列有读权限的进程可以从消息队列中读取消息。

> **消息队列特点总结：**
>
> 1. 消息队列是消息的链表,具有特定的格式,存放在内存中并由消息队列标识符标识。
> 2. 消息队列允许一个或多个进程向它写入与读取消息。
> 3. 管道和消息队列的通信数据都是先进先出的原则。
> 4. 消息队列可以实现消息的随机查询,消息不一定要以先进先出的次序读取,也可以按消息的类型读取.比FIFO更有优势。
> 5. 消息队列克服了信号承载信息量少，管道只能承载无格式字 节流以及缓冲区大小受限等缺。
> 6. 目前主要有两种类型的消息队列：`POSIX`消息队列以及`System V`消息队列，`System V`消息队列目前被大量使用。`System V`消息队列是随内核持续的，只有在内核重起或者人工删除时，该消息队列才会被删除。