## 信号量(semaphore)

 信号量是一个计数器，用于多进程对共享数据的访问，信号量的意图在于进程间同步。主要操作步骤如下：

  1. **创建一个信号量**：这要求调用者指定初始值，对于二值信号量来说，它通常是1，也可是0。
  2. **等待一个信号量**：该操作会测试这个信号量的值，如果小于0，就阻塞。也称为P操作。
  3. **挂出一个信号量**：该操作将信号量的值加1，也称为V操作。

> **信号量与互斥量之间的区别：**
> （1）互斥量用于线程的互斥，信号量用于线程的同步。这是互斥量和信号量的根本区别，也就是互斥和同步之间的区别。
> **互斥：**是指某一资源同时只允许一个访问者对其进行访问，具有唯一性和排它性。但互斥无法限制访问者对资源的访问顺序，即访问是无序的。
> **同步：**是指在互斥的基础上（大多数情况），通过其它机制实现访问者对资源的有序访问。
> 在大多数情况下，同步已经实现了互斥，特别是所有写入资源的情况必定是互斥的。少数情况是指可以允许多个访问者同时访问资源
> （2）互斥量值只能为0/1，信号量值可以为非负整数。
> 也就是说，一个互斥量只能用于一个资源的互斥访问，它不能实现多个资源的多线程互斥问题。信号量可以实现多个同类资源的多线程互斥和同步。当信号量为单值信号量是，也可以完成一个资源的互斥访问。
> （3）互斥量的加锁和解锁必须由同一线程分别对应使用，信号量可以由一个线程释放，另一个线程得到。